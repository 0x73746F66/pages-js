/** 
 * @projectDescription  Page.js is a small JavaSciprt Framework originally built as an experiment in designing single page applications.
 *                      As Page.js evolved it aimed to solve the common problems associated with writing this new style of application. It became clear early on that Page.js was well suited for building simple single page applications without the requirement of heavier libraries such as jQuery to perform simple DOM related functions.
 *
 * @author  Christopher D. Langton chris@codewiz.biz
 * @version     0.6
 */
function page(e){var t={Library:"Pages.js",Version:0.6,Author:"Christopher D. Langton",Website:"http://chrisdlangton.com",Created:"2013-02-03",Updated:"2013-02-07"};if(e){if(window===this){return new page(e)}if(e.charAt(0)==="#"){e=e.substring(1);this.id=e;if(typeof document.getElementById(e)!=="undefined"&&document.getElementById(e)!==null){this.ele=document.getElementById(e);return this}else{console.log("Page.js: unknown element");return false}}else if(e.charAt(0)==="."){e=e.substring(1);this.id=e;if(typeof document.getElementsByClassName(e)!=="undefined"&&document.getElementsByClassName(e)!==null){this.ele=document.getElementsByClassName(e);return this}else{console.log("Page.js: unknown element");return false}}else if(e.charAt(0)==="_"){e=e.substring(1);this.id=e;var n=document.getElementsByTagName("*");for(var r=0;r<n.length;r++){if(n[r].getAttribute("page")){if(n[r].getAttribute("page")===e){this.ele=n[r];r=n.length;return this}}}}else{console.log("Page.js: invalid selector");return false}}else{return t}}if(!document.getElementsByClassName){document.getElementsByClassName=function(e){var t=[];var n=document.getElementsByTagName("*");var r=new RegExp("(^|s)"+e+"(s|$)");for(var i=0;i<n.length;i++){if(r.test(n[i].className)){t.push(n[i])}}return t}}if(typeof Array.prototype.indexOf!=="function"){Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1}}if(!Array.prototype.forEach){Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;++n){e.call(t,this[n],n,this)}}}page.prototype={forEach:function(e,t){for(var n=0,r=this.ele.length;n<r;++n){e.call(t,this.ele[n],n,this.ele)}},hide:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var e=0,t=this.ele.length;e<t;++e){this.ele[e].style.display="none"}return this}else{this.ele.style.display="none";return this}}else{return false}},show:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var e=0,t=this.ele.length;e<t;++e){this.ele[e].style.display="inherit"}return this}else{this.ele.style.display="inherit";return this}}else{return false}},toggle:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var e=0,t=this.ele.length;e<t;++e){if(this.ele[e].style.display!=="none"){this.ele[e].style.display="none"}else{this.ele[e].style.display="inherit"}}return this}else{if(this.ele.style.display!=="none"){this.ele.style.display="none"}else{this.ele.style.display="inherit"}return this}}else{return false}},trim:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(typeof this.ele.value==="string"){return this.ele.value.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}else if(typeof this.ele.innerHTML==="string"){return this.ele.innerHTML.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}else{return false}}else{return false}},disable:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(this.ele.tagName&&this.ele.tagName.toLowerCase()==="textarea"||this.ele.tagName&&this.ele.tagName.toLowerCase()==="input"&&this.ele.type.toLowerCase()==="text"){this.ele.disabled=true;return this}else{var e=this.ele.getElementsByTagName("input");var t=0;for(t=0;t<e.length;t++){e[t].disabled=true}var n=this.ele.getElementsByTagName("select");for(t=0;t<n.length;t++){n[t].disabled=true}var r=this.ele.getElementsByTagName("textarea");for(t=0;t<r.length;t++){r[t].disabled=true}var i=this.ele.getElementsByTagName("button");for(t=0;t<i.length;t++){i[t].disabled=true}return this}}else{return false}},enable:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(this.ele.tagName&&this.ele.tagName.toLowerCase()==="textarea"||this.ele.tagName&&this.ele.tagName.toLowerCase()==="input"&&this.ele.type.toLowerCase()==="text"){this.ele.disabled=false;return this}else{var e=this.ele.getElementsByTagName("input");var t=0;for(t=0;t<e.length;t++){e[t].disabled=false}var n=this.ele.getElementsByTagName("select");for(t=0;t<n.length;t++){n[t].disabled=false}var r=this.ele.getElementsByTagName("textarea");for(t=0;t<r.length;t++){r[t].disabled=false}var i=this.ele.getElementsByTagName("button");for(t=0;t<i.length;t++){i[t].disabled=false}return this}}else{return false}},stringify:function(e){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(e&&typeof e==="object"){if(window.JSON&&window.JSON.stringify){if(this.ele.tagName&&this.ele.tagName.toLowerCase()==="textarea"||this.ele.tagName&&this.ele.tagName.toLowerCase()==="input"&&this.ele.type.toLowerCase()==="text"){this.ele.value=window.JSON.stringify(e,function(e,t){if(typeof t==="number"&&!isFinite(t)){return String(t)}return t})}else{this.ele.innerHTML=window.JSON.stringify(e,function(e,t){if(typeof t==="number"&&!isFinite(t)){return String(t)}return t})}return this}else{console.log("Page.js: browser doesnt support json natively");return false}}else{console.log("Page.js: stringify accepts an object");return false}},parse:function(){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}var e="";if(this.ele.tagName&&this.ele.tagName.toLowerCase()==="textarea"||this.ele.tagName&&this.ele.tagName.toLowerCase()==="input"&&this.ele.type.toLowerCase()==="text"){if(typeof this.ele.value==="string"&&this.ele.value!==null){e=this.ele.value.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(window.JSON&&window.JSON.parse){return window.JSON.parse(e)}else{console.log("Page.js: browser doesnt support json natively");return false}}else{console.log("Page.js: parse accepts a string");return false}}else{if(typeof this.ele.innerHTML==="string"&&this.ele.innerHTML!==null){e=this.ele.innerHTML.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(window.JSON&&window.JSON.parse){return window.JSON.parse(e)}else{console.log("Page.js: browser doesnt support json natively");return false}}}},html:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(typeof e==="undefined"){return this.ele.innerHTML}else{this.ele.innerHTML=e;return this}}else{return false}},val:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}if(this.ele.tagName&&this.ele.tagName.toLowerCase()==="input"){if(typeof e==="undefined"){return this.ele.value}else{this.ele.value=e;return this}}else{console.log("Page.js: method available for input selectors only.");return false}}else{return false}},style:function(e,t){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var n=0,r=this.ele.length;n<r;++n){this.ele[n].style[e]=t}return this}else{this.ele.style[e]=t;return this}}else{return false}},remove:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){var e;if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}(e=this.ele).parentNode.removeChild(e);return this}else{return false}},empty:function(){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var e=0,t=this.ele.length;e<t;++e){this.ele[e].innerHTML=""}return this}else{this.ele.innerHTML="";return this}}else{return false}},addClass:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null){var t="";var n,r=0;if(typeof e!=="string"){for(r=0;r<e.length;r++){t+=" "+e[r]}}else{t=" "+e}if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(r=0,n=this.ele.length;r<n;++r){this.ele[r].className+=t}return this}else{this.ele.className+=t;return this}}else{return false}},removeClass:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null){var t,n=0;if(typeof e==="undefined"||this.ele===null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(n=0,t=this.ele.length;n<t;++n){this.ele[n].className=""}return this}else{this.ele.className="";return this}}else{if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(n=0,t=this.ele.length;n<t;++n){while((" "+this.ele[n].className+" ").indexOf(" "+e+" ")>-1){this.ele[n].className=this.ele[n].className.replace(new RegExp("\\b"+e+"\\b"),"")}}return this}else{while((" "+this.ele.className+" ").indexOf(" "+e+" ")>-1){this.ele.className=this.ele.className.replace(new RegExp("\\b"+e+"\\b"),"")}return this}}}else{return false}},attr:function(e,t){if(typeof this.ele!=="undefined"&&this.ele!==null){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){for(var n=0,r=this.ele.length;n<r;++n){this.ele[n].setAttribute(e,t)}return this}else{this.ele.setAttribute(e,t);return this}}else{return false}},append:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null&&typeof e==="string"){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}this.ele.innerHTML=this.ele.innerHTML+e;return this}else{return false}},prepend:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null&&typeof e==="string"){if(typeof this.ele[1]!=="undefined"&&this.ele[1]!==null){console.log("Page.js: method available for unique selectors only.");return false}this.ele.innerHTML=e+this.ele.innerHTML;return this}else{return false}},goTo:function(){this.ele.scrollIntoView(true);return this},nav:function(){if(typeof this.ele!=="undefined"&&this.ele!==null&&this.ele.hasAttribute("page")){var e=document.getElementsByTagName("*");for(var t=0;t<e.length;t++){if(e[t].getAttribute("page")){if(e[t].getAttribute("page")===this.id){e[t].style.display="inherit"}else{e[t].style.display="none"}}}return this}else{console.log("Page.js: nav method only available for page selector");return false}},addPage:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null){if(this.ele.hasAttribute("page")){console.log("Page.js: page already exists as '"+this.ele.getAttribute("page")+"'");return false}else{this.ele.setAttribute("page",e);return this}}else{console.log("Page.js: invalid selector");return false}},removePage:function(){if(typeof this.ele!=="undefined"&&this.ele!==null&&this.ele.hasAttribute("page")){this.ele.removeAttribute("page");return this}else{console.log("Page.js: invalid selector or no page attribute");return false}},exist:function(e){if(typeof this.ele!=="undefined"&&this.ele!==null&&typeof e!=="undefined"&&e!==null){if(this.ele.hasAttribute("page")){return this.ele.getAttribute("page")===e?true:false}else{return false}}else if(typeof this.ele!=="undefined"&&this.ele!==null){if(this.ele.hasAttribute("page")){return this.ele.getAttribute("page")===this.id?true:false}else{return false}}}};var readyStateCheckInterval=setInterval(function(){if(document.readyState==="complete"){var e=window.location.hash.substring(1);if(e.length>1){if(page("_"+e).exist()){page("_"+e).nav()}}if("onhashchange"in window){window.onhashchange=function(){e=window.location.hash.substring(1);if(e.length>1){if(page("_"+e).exist()){page("_"+e).nav()}}}}else{var t=window.location.hash;window.setInterval(function(){if(window.location.hash!==t){e=window.location.hash.substring(1);if(e.length>1){if(page("_"+e).exist()){page("_"+e).nav()}}}},500)}clearInterval(readyStateCheckInterval)}},10);